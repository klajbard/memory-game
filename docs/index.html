<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Memory Game</title><style>body{margin:1rem}#board{display:grid;grid-template-columns:repeat(var(--repeat),1fr);gap:1rem}#board>div{margin:auto;display:flex;justify-content:center}.card{position:relative;width:7rem;height:7rem}.content{position:absolute;width:100%;height:100%;box-shadow:0 0 15px rgba(0,0,0,.1);background:repeating-linear-gradient(-45deg,#228b22,#228b22 10px,#4cbb17 10px,#4cbb17 20px);transition:transform 1s;transform-style:preserve-3d}.card.flipped .content{transform:rotateY(180deg);transition:transform .5s}.card-back{position:absolute;height:100%;width:100%;display:flex;align-items:center;justify-content:center;font-size:4rem;background:#525025;color:#fff;backface-visibility:hidden;transform:rotateY(180deg)}.slider-container{display:flex;flex-direction:column;padding:.5rem 1rem}.slider-container label{margin-bottom:.5rem;font-size:1.2rem}#values{display:flex;flex-direction:row;justify-content:space-between;margin:0 4px}#start-button{padding:.5rem;background:0 0;cursor:pointer}#new-game{display:flex;flex-direction:column}.overlay{position:fixed;inset:0;z-index:1;width:100%;height:100%;display:flex;background:#0003}.overlay-inner{background-color:#eee;margin:auto;padding:2rem;box-shadow:1px 1px 1px #6f6f6f;width:90%;max-width:20rem}#result{font-size:1.25rem;font-weight:700}</style></head><body><div><h1>Memory Game</h1></div><div id="board"></div><div id="overlay" class="overlay"><div class="overlay-inner"><div id="result"></div><div id="new-game"><h2>Start new game!</h2><div class="slider-container"><label for="table-size">Table size:<span id="size-value">4</span></label><input type="range" name="table-size" id="table-size" step="1" min="4" max="6" value="4" list="values"><datalist id="values"><option value="4" label="4"></option><option value="5" label="5"></option><option value="6" label="6"></option></datalist></div><button id="start-button">Start!</button></div></div></div><script>const startButton=document.getElementById("start-button"),board=document.getElementById("board"),slider=document.getElementById("table-size"),sizeValue=document.getElementById("size-value"),overlay=document.getElementById("overlay"),result=document.getElementById("result");let startTime,endTime,flipped=null,paired=0,availablePairs;function generatePossibleValues(){let e=[...Array(26).keys()].map(e=>String.fromCharCode(e+97)),t=Array(10).keys();return[...t,...e]}function getHumanReadableString(e){let t="";var a=Math.floor(e/60),l=e%60%60;return a&&(t+=`${a} minutes`),l&&(t+=`${t.length?" ":""}${l} seconds.`),t}function randomize(){return .5-Math.random()}function handleClick({currentTarget:e}){let t=e.textContent;if(e.classList.add("flipped"),null!=flipped){if(flipped.textContent===t)document.querySelectorAll(`[data-id="${t}"]`).forEach(e=>{e.removeEventListener("click",handleClick),e.style.opacity="0"}),paired+=1;else{var a;a=flipped,setTimeout(()=>{a.classList.remove("flipped"),e.classList.remove("flipped")},750)}flipped=null}else flipped=e;paired===availablePairs&&endGame()}function createCardElements(e){let t=[...generatePossibleValues()].sort(randomize).slice(0,e/2),a=[...t,...t].sort(randomize);a.forEach(e=>{let t=document.createElement("div");t.setAttribute("data-id",e),t.className="card",t.addEventListener("click",handleClick);let a=document.createElement("div");a.className="content",t.appendChild(a);let l=document.createElement("div");l.className="card-back",l.textContent=e,a.appendChild(l),board.appendChild(t)})}function endGame(){overlay.style.display="flex",endTime=+new Date,console.debug("The game has ended:",new Date),result.textContent=`Congratulations! You finished in ${getHumanReadableString((endTime-startTime)/1e3)}`}function startGame(){let e=slider.value;startTime=+new Date,endTime=0,flipped=null,paired=0,board.innerHTML="",result.innerHTML="",console.debug(`The game has started with ${e}x${e} table:`,new Date),overlay.style.display="none",availablePairs=Math.floor(Math.pow(Number(e),2)/2),board.style.setProperty("--repeat",e),createCardElements(Math.pow(Number(e),2))}startButton.addEventListener("click",startGame),slider.addEventListener("change",({target:{value:e}})=>{sizeValue.textContent=e});</script></body></html>